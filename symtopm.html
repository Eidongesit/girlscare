<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Natal Care App is a comprehensive app designed to support young girls and women in managing their health and fertility. Features include a cycle calculator for tracking menstrual cycles, ovulation, and safe periods, and a symptom checker for evaluating health issues. Empower your well-being with our valuable tools and information.">
    <meta name="keywords" content="Natal Care, women's health, menstrual cycle tracker, fertility tracker, ovulation calculator, safe period calculator, symptom checker, reproductive health, young girls health, health management">
    <meta name="author" content="Simbi marketing Technologies">
    <title>Natal_Care</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="styles.css">
    <link rel ="stylesheet" href="bootstrap.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Comic+Neue:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" crossorigin="anonymous">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="manifest" href="/manifest.json">
    
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=comic:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap');

        /* General Styles */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f7f9fc; /* Light Grayish-Blue Background */
            color: #333; /* Dark Text Color */
        } 
       
        /* Container */
        .container {
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
        }
        /* Header */
        header {
            text-align: center;
            padding: 10px 0;
        }

        h1 {
            color: #2a7f62; /* Dark Green */
            font-size: 24px;
            margin: 0;
        }

        /* Search and Filter Form */
        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            font-weight: bold;
            margin-bottom: 5px;
            color: #2a7f62; /* Dark Green */
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            box-sizing: border-box;
        }

        .form-group select {
            background-color: #fff;
        }

        .form-group button {
            width: 100%;
            padding: 10px;
            border: none;
            border-radius: 5px;
            background-color: #ffd700; /* Gold */
            color: #fff;
            font-size: 16px;
            cursor: pointer;
        }

        .form-group button:hover {
            background-color: #e6c200; /* Darker Gold */
        }

        /* Results Section */
        .results {
            margin-top: 20px;
        }

        .results h2 {
            color: #2a7f62; /* Dark Green */
            font-size: 20px;
        }

        .result-item {
            background-color: #fff;
            padding: 15px;
            margin-bottom: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }

        .result-item h3 {
            color: #2a7f62; /* Dark Green */
            font-size: 18px;
            margin-top: 0;
        }

        .result-item p {
            margin: 5px 0;
        }

        /* Mobile Responsiveness */
        @media (max-width: 768px) {
            .form-group input,
            .form-group select,
            .form-group button {
                font-size: 14px;
            }

            h1 {
                font-size: 20px;
            }

            .results h2 {
                font-size: 18px;
            }
        }
    </style>
</head>
<body>
    <nav class=" navbar navbar-expand-lg fixed-top bg-white" style="height: 100px;">
        <div class="container">
              <a class="navbar-brand  " href="index.html">
                <h3 class="comic-neue-bold" style="color: #ff9999;">Natal Care</h3>
              </a>
              <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" >
                      <span class="navbar-toggler-icon" style="width:25px !important;"></span>
              </button>
      
              <div class="collapse navbar-collapse bg-white" id="navbarSupportedContent">
                    <ul class="navbar-nav ms-auto" >
                     <li class="nav-item">
                        <a class="nav-link  text-success comic-neue-regular" href="calculator.html">Calculator</a>
                    </li>
                  
                    </ul>
              </div>
        </div>
    </nav>


    <header style="margin-top: 40px;">
        <h1>Symptom Checker</h1>
    </header>



    <div class="container" >
        <form id="symptom-form">
            <div class="form-group">
                <label for="pregnancy-stage">Select Pregnancy Stage:</label>
                <select id="pregnancy-stage" name="pregnancy-stage">
                    <option value="Pre-Conception">Pre-Conception</option>
                    <option value="first-trimester">First Trimester</option>
                    <option value="second-trimester">Second Trimester</option>
                    <option value="third-trimester">Third Trimester</option>
                    <option value="post-natal">Post-Natal</option>
                    <option value="other">Others</option>
                    <option value="STIs">STIs</option>
                </select>
            </div>
            <div class="form-group">
                <label for="symptom-search">Search Symptoms:</label>
                <input type="text" id="symptom-search" name="symptom-search" placeholder="Enter symptom...">
            </div>
            <div class="form-group">
                <button type="submit">Find Conditions</button>
            </div>
        </form>
        <div class="results" id="results">
            <h2>Results</h2>
            <!-- Results will be populated here -->
        </div>
        <div>
            <a href="https://wa.me/2347043922313" target="_blank" class=" text-dark d-flex align-items-center m-2">
                <i class="fab fa-whatsapp me-2"></i>
                <span>Talk to a Care Nurse - It's Free</span>
            </a>
        </div>
    </div>


    
    



    <!-- Add Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-firestore.js"></script>


    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.15.0/firebase-app.js';
        import { getFirestore, collection, query, where, getDocs, addDoc } from 'https://www.gstatic.com/firebasejs/9.15.0/firebase-firestore.js';

        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyCaWsuVR8bqjyNROV6UH8jjMe9kBn3smsk",
            authDomain: "natalcare-3c799.firebaseapp.com",
            databaseURL: "https://natalcare-3c799-default-rtdb.firebaseio.com",
            projectId: "natalcare-3c799",
            storageBucket: "natalcare-3c799.appspot.com",
            messagingSenderId: "362770937542",
            appId: "1:362770937542:web:afa58bf6c7fd8fca8349c7"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        // Handle form submission
        document.getElementById('symptom-form').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            // Get user inputs
            const stage = document.getElementById('pregnancy-stage').value;
            const searchTerm = document.getElementById('symptom-search').value.toLowerCase();
            
            // Clear previous results
            const resultsDiv = document.getElementById('results');
            resultsDiv.innerHTML = '<h2>Results</h2>';
            
            try {
    // Fetch data from Firestore filtered by stage
                const conditionsRef = collection(db, 'conditions');
                const q = query(conditionsRef, where('stage', '==', stage));
                const querySnapshot = await getDocs(q);
                
                if (querySnapshot.empty) {
                    resultsDiv.innerHTML += '<p>No results found.</p>';
                    return;
                }

                let found = false;
                querySnapshot.forEach(doc => {
                    const data = doc.data();
                    
                    // Further filter by symptoms input (case-insensitive search)
                    if (data.symptoms.toLowerCase().includes(searchTerm)) {
                        resultsDiv.innerHTML += `
                            <div class="result-item">
                                <h3>${data.name}</h3>
                                <p><strong>Meaning and Causes:</strong> ${data.meaning_and_causes}</p>
                                <p><strong>Symptoms:</strong> ${data.symptoms}</p>
                                <p><strong>Severity:</strong> ${data.severity}</p>
                                <p><strong>Medication:</strong> ${data.medication}</p>
                            </div>
                        `;
                        found = true;
                    }
                });

                if (!found) {
                    resultsDiv.innerHTML += '<p>No results found for the given symptoms.</p>';
                }

            } catch (error) {
                console.error("Error fetching data: ", error);
                resultsDiv.innerHTML += '<p>Error retrieving data.</p>';
            }
        });

    /*    
       // Function to upload JSON data to Firestore
    async function uploadData() {
    const collectionRef = collection(db, 'conditions'); // The 'conditions' collection in Firestore
    const data = await fetch('main.json').then(response => response.json());

            try {
                for (const item of data) {
                    // Query to check if the document already exists
                    const q = query(collectionRef, where('name', '==', item.name));
                    const querySnapshot = await getDocs(q);

                    if (querySnapshot.empty) {
                        // If no document with the same 'name' exists, add the new document
                        await addDoc(collectionRef, item);
                        console.log('Document added:', item.name);
                    } else {
                        // If a document with the same 'name' exists, skip adding it
                        console.log('Document already exists, skipping:', item.name);
                    }
                }
                console.log('All data uploaded successfully.');
            } catch (e) {
                console.error('Error adding document:', e);
            }
        }

        // Call the function to upload data
        uploadData();
*/
    </script>
    
</body>
</html>
